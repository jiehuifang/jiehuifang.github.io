(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4bb8"],{"0860":function(e,t,s){"use strict";s.r(t);var n=s("7a23");const a=Object(n["f"])("p",null,"WebSocket Test",-1),l=Object(n["f"])("br",null,null,-1),c=Object(n["f"])("br",null,null,-1),o=Object(n["f"])("br",null,null,-1);function d(e,t,s,d,r,i){const u=Object(n["v"])("router-link");return Object(n["q"])(),Object(n["e"])("div",null,[a,Object(n["f"])("p",null,[Object(n["h"])(u,{to:"/"},{default:Object(n["C"])(()=>[Object(n["g"])("back to the contents")]),_:1})]),Object(n["f"])("div",null,Object(n["x"])(r.ws_status),1),l,Object(n["f"])("div",null,[Object(n["D"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.ws_url=e),id:"ws_url",placeholder:"input ws url",style:{width:"665px"}},null,512),[[n["A"],r.ws_url]]),Object(n["f"])("button",{type:"button",onClick:t[1]||(t[1]=e=>i.connect())},"connect")]),c,Object(n["f"])("div",null,[Object(n["D"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.send_value=e),id:"send_value",placeholder:"send message",style:{width:"580px"}},null,512),[[n["A"],r.send_value]]),Object(n["f"])("button",{type:"button",onClick:t[3]||(t[3]=e=>i.send())},"send"),Object(n["f"])("button",{type:"button",onClick:t[4]||(t[4]=e=>i.clean_message())},"clean message")]),o,Object(n["f"])("div",null,[Object(n["D"])(Object(n["f"])("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.send_area=e),id:"send_area",rows:"10",cols:"50",readonly:"",placeholder:"send area"},null,512),[[n["A"],r.send_area]]),Object(n["D"])(Object(n["f"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.receive_area=e),id:"receive_area",rows:"10",cols:"50",readonly:"",placeholder:"receive area"},null,512),[[n["A"],r.receive_area]])])])}var r={name:"WebSocketTestView",data(){return{ws_url:"ws://localhost:8007/api/v1/sip/ws",ws_socket:null,ws_status:"no connection",send_value:"",send_area:"",receive_area:""}},methods:{connect(){""!==this.ws_url?(this.ws_socket=new WebSocket(this.ws_url),this.add_ws_event()):alert("ws url is empty")},add_ws_event(){this.ws_socket.addEventListener("open",e=>{this.ws_status="connection established"}),this.ws_socket.addEventListener("close",e=>{this.ws_status="no connection"}),this.ws_socket.addEventListener("error",e=>{console.log("ws error msg: "+e)}),this.ws_socket.addEventListener("message",e=>{this.receive_area+=e.data+"\n"})},send(){""!==this.send_value&&("connection established"===this.ws_status?(this.ws_socket.send(this.send_value),this.send_area+=this.send_value+"\n",this.send_value=""):alert(this.ws_status))},clean_message(){this.send_area="",this.receive_area=""}}},i=s("6b0d"),u=s.n(i);const b=u()(r,[["render",d]]);t["default"]=b}}]);