(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209383"],{a7b9:function(t,e,o){"use strict";o.r(e);var n=o("7a23");const i=Object(n["f"])("p",null,"Todo List",-1),l=Object(n["f"])("br",null,null,-1),c=Object(n["f"])("br",null,null,-1),s=Object(n["f"])("p",null,"todo list",-1),d=["onClick"],a=["onClick"],r=["onUpdate:modelValue"],u=["onClick"],b=Object(n["f"])("br",null,null,-1),j=Object(n["f"])("p",null,"done list",-1),O=["onClick"],_=["onClick"],p=["onUpdate:modelValue"],h=["onClick"];function m(t,e,o,m,g,w){const f=Object(n["v"])("router-link");return Object(n["q"])(),Object(n["e"])("div",null,[i,Object(n["f"])("p",null,[Object(n["h"])(f,{to:"/"},{default:Object(n["D"])(()=>[Object(n["g"])("back to the contents")]),_:1})]),l,Object(n["E"])(Object(n["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>g.new_todo_item=t),placeholder:"new todo item"},null,512),[[n["B"],g.new_todo_item]]),Object(n["g"])(),Object(n["f"])("button",{onClick:e[1]||(e[1]=t=>w.add_item())},"commit"),Object(n["g"])(),Object(n["f"])("button",{onClick:e[2]||(e[2]=t=>w.show_edit())},"edit"),c,Object(n["f"])("div",null,[s,(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["u"])(g.list,t=>(Object(n["q"])(),Object(n["e"])(n["a"],null,[t.is_complete?Object(n["d"])("",!0):(Object(n["q"])(),Object(n["e"])("ul",{key:t.id},[Object(n["g"])(" ("+Object(n["y"])(t.start_time)+") "+Object(n["y"])(t.content)+" ",1),Object(n["f"])("button",{onClick:e=>w.done(t.id)},"done",8,d),Object(n["g"])(),Object(n["f"])("button",{onClick:e=>w.del(t.id)},"delete",8,a),Object(n["g"])(),g.show_edit_state?Object(n["E"])((Object(n["q"])(),Object(n["e"])("input",{key:0,"onUpdate:modelValue":e=>t.content=e},null,8,r)),[[n["B"],t.content]]):Object(n["d"])("",!0),Object(n["g"])(),g.show_edit_state?(Object(n["q"])(),Object(n["e"])("button",{key:1,onClick:e=>w.save_edit(t.id)},"save",8,u)):Object(n["d"])("",!0)]))],64))),256)),b,j,(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["u"])(g.list,t=>(Object(n["q"])(),Object(n["e"])(n["a"],null,[t.is_complete?(Object(n["q"])(),Object(n["e"])("ul",{key:t.id},[Object(n["g"])(" ("+Object(n["y"])(t.start_time)+" ~ "+Object(n["y"])(t.end_time)+") "+Object(n["y"])(t.content)+" ",1),Object(n["f"])("button",{onClick:e=>w.undo_done(t.id)},"undo",8,O),Object(n["g"])(),Object(n["f"])("button",{onClick:e=>w.del(t.id)},"delete",8,_),Object(n["g"])(),g.show_edit_state?Object(n["E"])((Object(n["q"])(),Object(n["e"])("input",{key:0,"onUpdate:modelValue":e=>t.content=e},null,8,p)),[[n["B"],t.content]]):Object(n["d"])("",!0),Object(n["g"])(),g.show_edit_state?(Object(n["q"])(),Object(n["e"])("button",{key:1,onClick:e=>w.save_edit(t.id)},"save",8,h)):Object(n["d"])("",!0)])):Object(n["d"])("",!0)],64))),256))])])}o("14d9");const g="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var w={randomUUID:g};let f;const k=new Uint8Array(16);function y(){if(!f&&(f="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(k)}const v=[];for(let $=0;$<256;++$)v.push(($+256).toString(16).slice(1));function S(t,e=0){return(v[t[e+0]]+v[t[e+1]]+v[t[e+2]]+v[t[e+3]]+"-"+v[t[e+4]]+v[t[e+5]]+"-"+v[t[e+6]]+v[t[e+7]]+"-"+v[t[e+8]]+v[t[e+9]]+"-"+v[t[e+10]]+v[t[e+11]]+v[t[e+12]]+v[t[e+13]]+v[t[e+14]]+v[t[e+15]]).toLowerCase()}function U(t,e,o){if(w.randomUUID&&!e&&!t)return w.randomUUID();t=t||{};const n=t.random||(t.rng||y)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){o=o||0;for(let t=0;t<16;++t)e[o+t]=n[t];return e}return S(n)}var C=U,q={name:"TodoListView",data(){return{list:null,show_edit_state:!1,new_todo_item:null,map:new Map}},created(){if(!window.localStorage)return alert("浏览器不支持localstorage"),!1;this.list=localStorage.getItem("todoListData-list"),null==this.list?this.list=[]:this.list=JSON.parse(this.list),this.list.forEach(t=>{this.map.set(t.id,t)})},methods:{add_item(){if(null==this.new_todo_item||!this.new_todo_item.length>0)return;const t=this.new_obj(this.new_todo_item);this.list.push(t),this.new_todo_item=null,this.map.set(t.id,t),this.save_local()},new_obj(t){return{id:C(),content:t,is_complete:!1,start_time:this.now_str(),end_time:null}},now_str(){const t=new Date,e=t.getFullYear().toString().padStart(4,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),i=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0");return`${e}-${o}-${n} ${i}:${l}:${c}`},done(t){const e=this.map.get(t);void 0!==e&&(e.is_complete=!0,e.end_time=this.now_str(),this.save_local())},undo_done(t){const e=this.map.get(t);void 0!==e&&(e.is_complete=!1,e.end_time=null,this.save_local())},del(t){const e=this.map.get(t);void 0!==e&&(this.map.delete(t),this.list=this.list.filter(e=>e.id!==t),this.save_local())},save_local(){localStorage.setItem("todoListData-list",JSON.stringify(this.list))},show_edit(){this.show_edit_state=!this.show_edit_state},save_edit(t){const e=this.map.get(t);void 0!==e&&this.save_local(),this.show_edit()}}},D=o("6b0d"),V=o.n(D);const I=V()(q,[["render",m]]);e["default"]=I}}]);