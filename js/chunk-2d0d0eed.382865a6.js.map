{"version":3,"sources":["webpack:///./src/views/Timer.vue","webpack:///./src/views/Timer.vue?36e8"],"names":["_createElementVNode","border","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_2","_hoisted_3","_hoisted_4","$data","hour","$event","minute","second","text","onClick","_cache","$options","start","stop","_hoisted_5","_toDisplayString","text_time","name","data","core_hour","core_minute","core_second","interval","model","created","t","this","storage","window","localStorage","history","getItem","temp","JSON","parse","undefined","Notification","permission","requestPermission","computed","core_time","core","hourNum","parseInt","minuteNum","methods","setItem","stringify","setInterval","showNotification","alert","clearInterval","msg","showWindowNotification","console","log","notification","dir","icon","body","renotify","tag","requireInteraction","onclick","focus","__exports__","render"],"mappings":"iJAEIA,eAAY,SAAT,SAAK,G,EAIRA,eAAI,mB,GACGC,OAAO,K,EACZD,eAKK,WAJHA,eAAa,UAAT,QACJA,eAAe,UAAX,UACJA,eAAe,UAAX,UACJA,eAAa,UAAT,U,KAaRA,eAAI,mB,sFAxBNE,eA0BM,YAzBJC,EACAH,eAEI,UADFI,eAAsDC,EAAA,CAAzCC,GAAG,KAAG,C,uBAAC,IAAoB,C,eAApB,0B,QAEtBC,EACAP,eAaQ,QAbRQ,EAaQ,CAZNC,EAMAT,eAKK,WAJHA,eAA+B,W,eAA3BA,eAAsB,S,qCAANU,EAAAC,KAAIC,I,mBAAJF,EAAAC,UACpBX,eAAiC,W,eAA7BA,eAAwB,S,qCAARU,EAAAG,OAAMD,I,mBAANF,EAAAG,YACpBb,eAAiC,W,eAA7BA,eAAwB,S,qCAARU,EAAAI,OAAMF,I,mBAANF,EAAAI,YACpBd,eAA+B,W,eAA3BA,eAAsB,S,qCAANU,EAAAK,KAAIH,I,mBAAJF,EAAAK,cAGxBf,eAA4C,UAAnCgB,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAEM,EAAAC,MAAM,UAAS,QAC/BnB,eAA8C,UAArCgB,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAEM,EAAAC,MAAM,WAAU,SAChCnB,eAA8C,UAArCgB,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAEM,EAAAC,MAAM,QAAO,YAC7BnB,eAAqC,UAA5BgB,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAEM,EAAAE,SAAQ,QACxBC,E,eAAI,IACJC,eAAEJ,EAAAK,WAAS,KAMA,OACbC,KAAM,YACNC,OACE,MAAO,CACLd,KAAM,EACNE,OAAQ,EACRC,OAAQ,EACRY,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,SAAU,KACVC,MAAO,KACPf,KAAM,cAGVgB,UACE,MAAMC,EAAIC,KACJC,EAAUC,OAAOC,aACvB,IAAKF,EAAS,OAAO,EACrB,MAAMG,EAAUH,EAAQI,QAAQ,oBAChC,GAAgB,OAAZD,EAAkB,CACpB,MAAME,EAAOC,KAAKC,MAAMJ,GACxBL,EAAErB,KAAO4B,EAAK5B,KACdqB,EAAEnB,OAAS0B,EAAK1B,OAChBmB,EAAElB,OAASyB,EAAKzB,YAEd4B,IAAcP,OAAOQ,cAA4C,YAA5BA,aAAaC,YACpDD,aAAaE,qBAGjBC,SAAU,CACRC,YACE,IAAIC,EAAO,EAIX,OAHAA,GAAyB,KAAjBf,KAAKP,UACbsB,GAA2B,GAAnBf,KAAKN,YACbqB,GAA2B,EAAnBf,KAAKL,YACNoB,GAETzB,YACE,IAAIyB,EAAOf,KAAKc,UAChB,MAAME,EAAUC,SAASF,EAAO,MAChCA,GAAwB,KAAVC,EACd,MAAME,EAAYD,SAASF,EAAO,IAElC,OADAA,GAA0B,GAAZG,EACPF,EAAU,QAAUE,EAAY,UAAYH,EAAO,WAG9DI,QAAS,CACPjC,MAAOW,GACL,MAAME,EAAIC,KACV,GAAc,OAAVH,GAA8B,OAAZE,EAAEF,MAAxB,CAIA,GAAc,OAAVA,EAAgB,CAClB,MAAMI,EAAUC,OAAOC,aACjBG,EAAO,CACX5B,KAAMqB,EAAErB,KACRE,OAAQmB,EAAEnB,OACVC,OAAQkB,EAAElB,QAERoB,GAASA,EAAQmB,QAAQ,mBAAoBb,KAAKc,UAAUf,IAChEP,EAAEJ,YAAcsB,SAASlB,EAAElB,QAC3BkB,EAAEL,YAAcuB,SAASlB,EAAEnB,QAC3BmB,EAAEN,UAAYwB,SAASlB,EAAErB,MACzBqB,EAAEF,MAAQA,EAEO,OAAfE,EAAEH,SAIa,SAAfI,KAAKH,MACPE,EAAEH,SAAW0B,YAAY,KACvBvB,EAAEJ,aAAe,GAChB,KAEHI,EAAEH,SAAW0B,YAAY,KACvBvB,EAAEJ,aAAe,EACbI,EAAEe,WAAa,IACjBf,EAAEwB,iBAAiBxB,EAAEjB,MACrBiB,EAAEZ,SAEH,KAdHqC,MAAM,wBAjBNA,MAAM,gBAkCVrC,OACE,MAAMY,EAAIC,KACVyB,cAAc1B,EAAEH,UAChBG,EAAEH,SAAW,MAEf2B,iBAAkBG,GAChB,MAAM3B,EAAIC,KACsB,YAA5BU,aAAaC,WACfZ,EAAE4B,uBAAuBD,GAEzBE,QAAQC,IAAI,2BAA6BnB,aAAaC,aAG1DgB,uBAAwBD,GACtB,MAAMI,EAAe,IAAIpB,aAAa,QAAS,CAC7CqB,IAAK,OACLC,KAAM,WACNC,KAAMP,EACNQ,UAAU,EACVC,IAAK,QACLC,oBAAoB,IAEtBN,EAAaO,QAAU,KACrBnC,OAAOoC,Y,qBCvIf,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0d0eed.382865a6.js","sourcesContent":["<template>\n  <div>\n    <p>Timer</p>\n    <p>\n      <router-link to=\"/\">back to the contents</router-link>\n    </p>\n    <br>\n    <table border=\"1\">\n      <tr>\n        <th>hour</th>\n        <th>minute</th>\n        <th>second</th>\n        <th>text</th>\n      </tr>\n      <tr>\n        <td><input v-model=\"hour\"></td>\n        <td><input v-model=\"minute\"></td>\n        <td><input v-model=\"second\"></td>\n        <td><input v-model=\"text\"></td>\n      </tr>\n    </table>\n    <button @click=\"start('plus')\">plus</button>\n    <button @click=\"start('minus')\">minus</button>\n    <button @click=\"start(null)\">continue</button>\n    <button @click=\"stop()\">stop</button>\n    <hr>\n    {{text_time}}\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'TimerView',\n  data () {\n    return {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      core_hour: 0,\n      core_minute: 0,\n      core_second: 0,\n      interval: null,\n      model: null,\n      text: 'Time Out!'\n    }\n  },\n  created () {\n    const t = this\n    const storage = window.localStorage\n    if (!storage) return false\n    const history = storage.getItem('jiehuifang_timer')\n    if (history !== null) {\n      const temp = JSON.parse(history)\n      t.hour = temp.hour\n      t.minute = temp.minute\n      t.second = temp.second\n    }\n    if (undefined !== window.Notification && Notification.permission !== 'granted') {\n      Notification.requestPermission()\n    }\n  },\n  computed: {\n    core_time () {\n      let core = 0\n      core += this.core_hour * 3600\n      core += this.core_minute * 60\n      core += this.core_second * 1\n      return core\n    },\n    text_time () {\n      let core = this.core_time\n      const hourNum = parseInt(core / 3600)\n      core = core - hourNum * 3600\n      const minuteNum = parseInt(core / 60)\n      core = core - minuteNum * 60\n      return hourNum + 'hour ' + minuteNum + 'minute ' + core + 'second'\n    }\n  },\n  methods: {\n    start (model) {\n      const t = this\n      if (model === null && t.model === null) {\n        alert('frist start')\n        return\n      }\n      if (model !== null) {\n        const storage = window.localStorage\n        const temp = {\n          hour: t.hour,\n          minute: t.minute,\n          second: t.second\n        }\n        if (storage) storage.setItem('jiehuifang_timer', JSON.stringify(temp))\n        t.core_second = parseInt(t.second)\n        t.core_minute = parseInt(t.minute)\n        t.core_hour = parseInt(t.hour)\n        t.model = model\n      }\n      if (t.interval !== null) {\n        alert('already started')\n        return\n      }\n      if (this.model === 'plus') {\n        t.interval = setInterval(() => {\n          t.core_second += 1\n        }, 1000)\n      } else {\n        t.interval = setInterval(() => {\n          t.core_second -= 1\n          if (t.core_time <= 0) {\n            t.showNotification(t.text)\n            t.stop()\n          }\n        }, 1000)\n      }\n    },\n    stop () {\n      const t = this\n      clearInterval(t.interval)\n      t.interval = null\n    },\n    showNotification (msg) {\n      const t = this\n      if (Notification.permission === 'granted') {\n        t.showWindowNotification(msg)\n      } else {\n        console.log('Notification Permission:' + Notification.permission)\n      }\n    },\n    showWindowNotification (msg) {\n      const notification = new Notification('Timer', {\n        dir: 'auto',\n        icon: '/dog.ico',\n        body: msg,\n        renotify: true,\n        tag: 'Timer',\n        requireInteraction: true\n      })\n      notification.onclick = () => {\n        window.focus()\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./Timer.vue?vue&type=template&id=e4f61a94\"\nimport script from \"./Timer.vue?vue&type=script&lang=js\"\nexport * from \"./Timer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/fjh/template/template-utils/web-tools/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}