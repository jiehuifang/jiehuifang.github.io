{"version":3,"sources":["webpack:///./src/views/Timer.vue","webpack:///./src/views/Timer.vue?36e8"],"names":["_createElementVNode","border","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_2","_hoisted_3","_hoisted_4","$data","onClick","$options","_hoisted_5","name","data","hour","minute","second","core_hour","core_minute","core_second","interval","model","text","created","t","this","storage","window","localStorage","history","getItem","temp","JSON","parse","undefined","Notification","permission","requestPermission","computed","core_time","core","text_time","hourNum","parseInt","minuteNum","methods","start","setItem","stringify","setInterval","showNotification","stop","alert","clearInterval","msg","showWindowNotification","console","log","notification","dir","icon","body","renotify","tag","requireInteraction","onclick","focus","__exports__","render"],"mappings":"iJAEIA,eAAY,SAAT,SAAK,G,EAIRA,eAAI,mB,GACGC,OAAO,K,EACZD,eAKK,WAJHA,eAAa,UAAT,QACJA,eAAe,UAAX,UACJA,eAAe,UAAX,UACJA,eAAa,UAAT,UAAI,G,EAaZA,eAAI,mB,sFAxBNE,eA0BM,YAzBJC,EACAH,eAEI,UADFI,eAAsDC,GAAzCC,GAAG,KAAG,C,uBAAC,IAAoB,gBAApB,0B,QAEtBC,EACAP,eAaQ,QAbRQ,EAaQ,CAZNC,EAMAT,eAKK,WAJHA,eAA+B,0BAA3BA,eAAsB,S,qCAANU,OAAI,I,mBAAJA,YACpBV,eAAiC,0BAA7BA,eAAwB,S,qCAARU,SAAM,I,mBAANA,cACpBV,eAAiC,0BAA7BA,eAAwB,S,qCAARU,SAAM,I,mBAANA,cACpBV,eAA+B,0BAA3BA,eAAsB,S,qCAANU,OAAI,I,mBAAJA,gBAGxBV,eAA4C,UAAnCW,QAAK,eAAEC,QAAM,UAAS,QAC/BZ,eAA8C,UAArCW,QAAK,eAAEC,QAAM,WAAU,SAChCZ,eAA8C,UAArCW,QAAK,eAAEC,QAAM,QAAO,YAC7BZ,eAAqC,UAA5BW,QAAK,eAAEC,WAAQ,QACxBC,EAAI,mBACJ,eAAED,aAAS,KAMA,OACbE,KAAM,YACNC,OACE,MAAO,CACLC,KAAM,EACNC,OAAQ,EACRC,OAAQ,EACRC,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,SAAU,KACVC,MAAO,KACPC,KAAM,cAGVC,UACE,MAAMC,EAAIC,KACJC,EAAUC,OAAOC,aACvB,IAAKF,EAAS,OAAO,EACrB,MAAMG,EAAUH,EAAQI,QAAQ,oBAChC,GAAgB,OAAZD,EAAkB,CACpB,MAAME,EAAOC,KAAKC,MAAMJ,GACxBL,EAAEV,KAAOiB,EAAKjB,KACdU,EAAET,OAASgB,EAAKhB,OAChBS,EAAER,OAASe,EAAKf,YAEdkB,IAAcP,OAAOQ,cAA4C,YAA5BA,aAAaC,YACpDD,aAAaE,qBAGjBC,SAAU,CACRC,YACE,IAAIC,EAAO,EAIX,OAHAA,GAAyB,KAAjBf,KAAKR,UACbuB,GAA2B,GAAnBf,KAAKP,YACbsB,GAA2B,EAAnBf,KAAKN,YACNqB,GAETC,YACE,IAAID,EAAOf,KAAKc,UAChB,MAAMG,EAAUC,SAASH,EAAO,MAChCA,GAAwB,KAAVE,EACd,MAAME,EAAYD,SAASH,EAAO,IAElC,OADAA,GAA0B,GAAZI,EACPF,EAAU,QAAUE,EAAY,UAAYJ,EAAO,WAG9DK,QAAS,CACPC,MAAOzB,GACL,MAAMG,EAAIC,KACV,GAAc,OAAVJ,GAA8B,OAAZG,EAAEH,MAAxB,CAIA,GAAc,OAAVA,EAAgB,CAClB,MAAMK,EAAUC,OAAOC,aACjBG,EAAO,CACXjB,KAAMU,EAAEV,KACRC,OAAQS,EAAET,OACVC,OAAQQ,EAAER,QAERU,GAASA,EAAQqB,QAAQ,mBAAoBf,KAAKgB,UAAUjB,IAChEP,EAAEL,YAAcwB,SAASnB,EAAER,QAC3BQ,EAAEN,YAAcyB,SAASnB,EAAET,QAC3BS,EAAEP,UAAY0B,SAASnB,EAAEV,MACzBU,EAAEH,MAAQA,EAEO,OAAfG,EAAEJ,SAIa,SAAfK,KAAKJ,MACPG,EAAEJ,SAAW6B,YAAY,KACvBzB,EAAEL,aAAe,GAChB,KAEHK,EAAEJ,SAAW6B,YAAY,KACvBzB,EAAEL,aAAe,EACbK,EAAEe,WAAa,IACjBf,EAAE0B,iBAAiB1B,EAAEF,MACrBE,EAAE2B,SAEH,KAdHC,MAAM,wBAjBNA,MAAM,gBAkCVD,OACE,MAAM3B,EAAIC,KACV4B,cAAc7B,EAAEJ,UAChBI,EAAEJ,SAAW,MAEf8B,iBAAkBI,GAChB,MAAM9B,EAAIC,KACsB,YAA5BU,aAAaC,WACfZ,EAAE+B,uBAAuBD,GAEzBE,QAAQC,IAAI,2BAA6BtB,aAAaC,aAG1DmB,uBAAwBD,GACtB,MAAMI,EAAe,IAAIvB,aAAa,QAAS,CAC7CwB,IAAK,OACLC,KAAM,WACNC,KAAMP,EACNQ,UAAU,EACVC,IAAK,QACLC,oBAAoB,IAEtBN,EAAaO,QAAU,KACrBtC,OAAOuC,Y,qBCvIf,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0d0eed.382865a6.js","sourcesContent":["<template>\n  <div>\n    <p>Timer</p>\n    <p>\n      <router-link to=\"/\">back to the contents</router-link>\n    </p>\n    <br>\n    <table border=\"1\">\n      <tr>\n        <th>hour</th>\n        <th>minute</th>\n        <th>second</th>\n        <th>text</th>\n      </tr>\n      <tr>\n        <td><input v-model=\"hour\"></td>\n        <td><input v-model=\"minute\"></td>\n        <td><input v-model=\"second\"></td>\n        <td><input v-model=\"text\"></td>\n      </tr>\n    </table>\n    <button @click=\"start('plus')\">plus</button>\n    <button @click=\"start('minus')\">minus</button>\n    <button @click=\"start(null)\">continue</button>\n    <button @click=\"stop()\">stop</button>\n    <hr>\n    {{text_time}}\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'TimerView',\n  data () {\n    return {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      core_hour: 0,\n      core_minute: 0,\n      core_second: 0,\n      interval: null,\n      model: null,\n      text: 'Time Out!'\n    }\n  },\n  created () {\n    const t = this\n    const storage = window.localStorage\n    if (!storage) return false\n    const history = storage.getItem('jiehuifang_timer')\n    if (history !== null) {\n      const temp = JSON.parse(history)\n      t.hour = temp.hour\n      t.minute = temp.minute\n      t.second = temp.second\n    }\n    if (undefined !== window.Notification && Notification.permission !== 'granted') {\n      Notification.requestPermission()\n    }\n  },\n  computed: {\n    core_time () {\n      let core = 0\n      core += this.core_hour * 3600\n      core += this.core_minute * 60\n      core += this.core_second * 1\n      return core\n    },\n    text_time () {\n      let core = this.core_time\n      const hourNum = parseInt(core / 3600)\n      core = core - hourNum * 3600\n      const minuteNum = parseInt(core / 60)\n      core = core - minuteNum * 60\n      return hourNum + 'hour ' + minuteNum + 'minute ' + core + 'second'\n    }\n  },\n  methods: {\n    start (model) {\n      const t = this\n      if (model === null && t.model === null) {\n        alert('frist start')\n        return\n      }\n      if (model !== null) {\n        const storage = window.localStorage\n        const temp = {\n          hour: t.hour,\n          minute: t.minute,\n          second: t.second\n        }\n        if (storage) storage.setItem('jiehuifang_timer', JSON.stringify(temp))\n        t.core_second = parseInt(t.second)\n        t.core_minute = parseInt(t.minute)\n        t.core_hour = parseInt(t.hour)\n        t.model = model\n      }\n      if (t.interval !== null) {\n        alert('already started')\n        return\n      }\n      if (this.model === 'plus') {\n        t.interval = setInterval(() => {\n          t.core_second += 1\n        }, 1000)\n      } else {\n        t.interval = setInterval(() => {\n          t.core_second -= 1\n          if (t.core_time <= 0) {\n            t.showNotification(t.text)\n            t.stop()\n          }\n        }, 1000)\n      }\n    },\n    stop () {\n      const t = this\n      clearInterval(t.interval)\n      t.interval = null\n    },\n    showNotification (msg) {\n      const t = this\n      if (Notification.permission === 'granted') {\n        t.showWindowNotification(msg)\n      } else {\n        console.log('Notification Permission:' + Notification.permission)\n      }\n    },\n    showWindowNotification (msg) {\n      const notification = new Notification('Timer', {\n        dir: 'auto',\n        icon: '/dog.ico',\n        body: msg,\n        renotify: true,\n        tag: 'Timer',\n        requireInteraction: true\n      })\n      notification.onclick = () => {\n        window.focus()\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./Timer.vue?vue&type=template&id=e4f61a94\"\nimport script from \"./Timer.vue?vue&type=script&lang=js\"\nexport * from \"./Timer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/fjh/template/template-utils/web-tools/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}