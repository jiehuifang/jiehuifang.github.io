{"version":3,"sources":["webpack:///./src/views/Timer.vue","webpack:///./src/views/Timer.vue?6cbe","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["_createElementVNode","border","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_3","_hoisted_5","$data","$event","onClick","$options","_hoisted_6","_toDisplayString","name","data","hour","minute","second","core_hour","core_minute","core_second","interval","model","text","created","t","this","storage","window","localStorage","history","getItem","temp","JSON","parse","undefined","Notification","permission","requestPermission","computed","core_time","core","text_time","hourNum","parseInt","minuteNum","methods","start","setItem","stringify","setInterval","showNotification","stop","alert","clearInterval","msg","showWindowNotification","console","log","notification","dir","icon","body","renotify","tag","requireInteraction","onclick","focus","__exports__","render","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","i","l","arguments","length","args","result"],"mappings":"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","file":"js/chunk-70c1c1b7.8c8ea7be.js","sourcesContent":["<template>\n  <div>\n    <p>Timer</p>\n    <p>\n      <router-link to=\"/\">back to the contents</router-link>\n    </p>\n    <br>\n    <table border=\"1\">\n      <tr>\n        <th>hour</th>\n        <th>minute</th>\n        <th>second</th>\n        <th>text</th>\n      </tr>\n      <tr>\n        <td><input v-model=\"hour\"></td>\n        <td><input v-model=\"minute\"></td>\n        <td><input v-model=\"second\"></td>\n        <td><input v-model=\"text\"></td>\n      </tr>\n    </table>\n    <button @click=\"start('plus')\">plus</button>\n    <button @click=\"start('minus')\">minus</button>\n    <button @click=\"start(null)\">continue</button>\n    <button @click=\"stop()\">stop</button>\n    <hr>\n    {{text_time}}\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'TimerView',\n  data () {\n    return {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      core_hour: 0,\n      core_minute: 0,\n      core_second: 0,\n      interval: null,\n      model: null,\n      text: 'Time Out!'\n    }\n  },\n  created () {\n    const t = this\n    const storage = window.localStorage\n    if (!storage) return false\n    const history = storage.getItem('jiehuifang_timer')\n    if (history !== null) {\n      const temp = JSON.parse(history)\n      t.hour = temp.hour\n      t.minute = temp.minute\n      t.second = temp.second\n    }\n    if (undefined !== window.Notification && Notification.permission !== 'granted') {\n      Notification.requestPermission()\n    }\n  },\n  computed: {\n    core_time () {\n      let core = 0\n      core += this.core_hour * 3600\n      core += this.core_minute * 60\n      core += this.core_second * 1\n      return core\n    },\n    text_time () {\n      let core = this.core_time\n      const hourNum = parseInt(core / 3600)\n      core = core - hourNum * 3600\n      const minuteNum = parseInt(core / 60)\n      core = core - minuteNum * 60\n      return hourNum + 'hour ' + minuteNum + 'minute ' + core + 'second'\n    }\n  },\n  methods: {\n    start (model) {\n      const t = this\n      if (model === null && t.model === null) {\n        alert('frist start')\n        return\n      }\n      if (model !== null) {\n        const storage = window.localStorage\n        const temp = {\n          hour: t.hour,\n          minute: t.minute,\n          second: t.second\n        }\n        if (storage) storage.setItem('jiehuifang_timer', JSON.stringify(temp))\n        t.core_second = parseInt(t.second)\n        t.core_minute = parseInt(t.minute)\n        t.core_hour = parseInt(t.hour)\n        t.model = model\n      }\n      if (t.interval !== null) {\n        alert('already started')\n        return\n      }\n      if (this.model === 'plus') {\n        t.interval = setInterval(() => {\n          t.core_second += 1\n        }, 1000)\n      } else {\n        t.interval = setInterval(() => {\n          t.core_second -= 1\n          if (t.core_time <= 0) {\n            t.showNotification(t.text)\n            t.stop()\n          }\n        }, 1000)\n      }\n    },\n    stop () {\n      const t = this\n      clearInterval(t.interval)\n      t.interval = null\n    },\n    showNotification (msg) {\n      const t = this\n      if (Notification.permission === 'granted') {\n        t.showWindowNotification(msg)\n      } else {\n        console.log('Notification Permission:' + Notification.permission)\n      }\n    },\n    showWindowNotification (msg) {\n      const notification = new Notification('Timer', {\n        dir: 'auto',\n        icon: '/dog.ico',\n        body: msg,\n        renotify: true,\n        tag: 'Timer',\n        requireInteraction: true\n      })\n      notification.onclick = () => {\n        window.focus()\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n","import { render } from \"./Timer.vue?vue&type=template&id=04925c75\"\nimport script from \"./Timer.vue?vue&type=script&lang=js\"\nexport * from \"./Timer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/fjh/tool-fjh/web-tools/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}