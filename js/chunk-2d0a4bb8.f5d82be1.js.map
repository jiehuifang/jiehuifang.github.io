{"version":3,"sources":["webpack:///./src/views/WebSocketTest.vue","webpack:///./src/views/WebSocketTest.vue?c63f"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","$data","_hoisted_2","type","id","placeholder","style","onClick","$options","_hoisted_3","_hoisted_4","rows","cols","readonly","name","data","ws_url","ws_socket","ws_status","send_value","send_area","receive_area","methods","connect","this","WebSocket","add_ws_event","alert","addEventListener","event","console","log","send","clean_message","__exports__","render"],"mappings":"iJAGIA,eAAqB,SAAlB,kBAAc,G,EAOjBA,eAAI,mB,EAKJA,eAAI,mB,EAMJA,eAAI,mB,sFAnBNC,eAwBM,YAvBJC,EACAF,eAEI,UADFG,eAAsDC,GAAzCC,GAAG,KAAG,C,uBAAC,IAAoB,gBAApB,0B,QAEtBL,eAEM,0BADFM,aAAS,GAEbC,EACAP,eAGM,2BAFJA,eAAgG,SAAzFQ,KAAK,O,qCAAgBF,SAAM,GAAEG,GAAG,SAASC,YAAY,eAAeC,MAAA,iB,mBAA/CL,YAC5BN,eAAyD,UAAjDQ,KAAK,SAAUI,QAAK,eAAEC,cAAW,aAE3CC,EACAd,eAIM,2BAHJA,eAAwG,SAAjGQ,KAAK,O,qCAAgBF,aAAU,GAAEG,GAAG,aAAaC,YAAY,eAAeC,MAAA,iB,mBAAvDL,gBAC5BN,eAAmD,UAA3CQ,KAAK,SAAUI,QAAK,eAAEC,WAAQ,QACtCb,eAAqE,UAA7DQ,KAAK,SAAUI,QAAK,eAAEC,oBAAiB,mBAEjDE,EACAf,eAGM,2BAFJA,eAAmG,Y,qCAAhFM,YAAS,GAAEG,GAAG,YAAYO,KAAK,KAAKC,KAAK,KAAKC,SAAA,GAASR,YAAY,a,mBAAnEJ,eAAS,eAC5BN,eAA4G,Y,qCAAzFM,eAAY,GAAEG,GAAG,eAAeO,KAAK,KAAKC,KAAK,KAAKC,SAAA,GAASR,YAAY,gB,mBAAzEJ,sBAOV,OACba,KAAM,oBACNC,OACE,MAAO,CACLC,OAAQ,oCACRC,UAAW,KACXC,UAAW,gBACXC,WAAY,GACZC,UAAW,GACXC,aAAc,KAGlBC,QAAS,CACPC,UACsB,KAAhBC,KAAKR,QACPQ,KAAKP,UAAY,IAAIQ,UAAUD,KAAKR,QACpCQ,KAAKE,gBAELC,MAAM,oBAGVD,eACEF,KAAKP,UAAUW,iBAAiB,OAAQC,IACtCL,KAAKN,UAAY,2BAEnBM,KAAKP,UAAUW,iBAAiB,QAASC,IACvCL,KAAKN,UAAY,kBAEnBM,KAAKP,UAAUW,iBAAiB,QAASC,IACvCC,QAAQC,IAAI,iBAAmBF,KAEjCL,KAAKP,UAAUW,iBAAiB,UAAWC,IACzCL,KAAKH,cAAgBQ,EAAMd,KAAO,QAGtCiB,OAC0B,KAApBR,KAAKL,aAGc,2BAAnBK,KAAKN,WACPM,KAAKP,UAAUe,KAAKR,KAAKL,YACzBK,KAAKJ,WAAaI,KAAKL,WAAa,KACpCK,KAAKL,WAAa,IAElBQ,MAAMH,KAAKN,aAGfe,gBACET,KAAKJ,UAAY,GACjBI,KAAKH,aAAe,M,qBC3E1B,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4bb8.f5d82be1.js","sourcesContent":["\n<template>\n  <div>\n    <p>WebSocket Test</p>\n    <p>\n      <router-link to=\"/\">back to the contents</router-link>\n    </p>\n    <div>\n      {{ws_status}}\n    </div>\n    <br>\n    <div>\n      <input type=\"text\" v-model=\"ws_url\" id=\"ws_url\" placeholder=\"input ws url\" style=\"width: 665px\">\n      <button type=\"button\" @click=\"connect()\">connect</button>\n    </div>\n    <br>\n    <div>\n      <input type=\"text\" v-model=\"send_value\" id=\"send_value\" placeholder=\"send message\" style=\"width: 580px\">\n      <button type=\"button\" @click=\"send()\">send</button>\n      <button type=\"button\" @click=\"clean_message()\">clean message</button>\n    </div>\n    <br>\n    <div>\n      <textarea v-model=\"send_area\" id=\"send_area\" rows=\"10\" cols=\"50\" readonly placeholder=\"send area\"/>\n      <textarea v-model=\"receive_area\" id=\"receive_area\" rows=\"10\" cols=\"50\" readonly placeholder=\"receive area\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'WebSocketTestView',\n  data () {\n    return {\n      ws_url: 'ws://localhost:8007/api/v1/sip/ws',\n      ws_socket: null,\n      ws_status: 'no connection',\n      send_value: '',\n      send_area: '',\n      receive_area: ''\n    }\n  },\n  methods: {\n    connect () {\n      if (this.ws_url !== '') {\n        this.ws_socket = new WebSocket(this.ws_url)\n        this.add_ws_event()\n      } else {\n        alert('ws url is empty')\n      }\n    },\n    add_ws_event () {\n      this.ws_socket.addEventListener('open', event => {\n        this.ws_status = 'connection established'\n      })\n      this.ws_socket.addEventListener('close', event => {\n        this.ws_status = 'no connection'\n      })\n      this.ws_socket.addEventListener('error', event => {\n        console.log('ws error msg: ' + event)\n      })\n      this.ws_socket.addEventListener('message', event => {\n        this.receive_area += event.data + '\\n'\n      })\n    },\n    send () {\n      if (this.send_value === '') {\n        return\n      }\n      if (this.ws_status === 'connection established') {\n        this.ws_socket.send(this.send_value)\n        this.send_area += this.send_value + '\\n'\n        this.send_value = ''\n      } else {\n        alert(this.ws_status)\n      }\n    },\n    clean_message () {\n      this.send_area = ''\n      this.receive_area = ''\n    }\n  }\n}\n</script>\n","import { render } from \"./WebSocketTest.vue?vue&type=template&id=ae795d9e\"\nimport script from \"./WebSocketTest.vue?vue&type=script&lang=js\"\nexport * from \"./WebSocketTest.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/fjh/template/template-utils/web-tools/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}