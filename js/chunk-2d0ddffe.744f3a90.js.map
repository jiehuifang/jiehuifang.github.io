{"version":3,"sources":["webpack:///./src/views/PatternFormat.vue","webpack:///./src/views/PatternFormat.vue?032e"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","_hoisted_3","$data","$event","id","rows","cols","placeholder","readonly","_hoisted_4","value","type","onClick","$options","name","data","default_rule","pattern","fetch","is_date_start_time","is_number_between","is_foreach","is_ignore","template","rules","source","output","created","this","push","methods","handle","sourceArr","split","map","e","trim","filter","navigator","clipboard","writeText","then","console","log","trim_right","str","size","substring","length","arr","useMap","Map","i","j","r","includes","k","get","set","a","replaceAll","__exports__","render"],"mappings":"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","file":"js/chunk-2d0ddffe.744f3a90.js","sourcesContent":["<template>\n  <div>\n    <p>Pattern Format</p>\n    <p>\n      <router-link to=\"/\">back to the contents</router-link>\n    </p>\n    <br>\n    <textarea v-model=\"source\" id=\"source\" rows=\"50\" cols=\"120\" placeholder=\"source text\"></textarea>\n    <textarea v-model=\"output\" id=\"output\" rows=\"50\" cols=\"120\" placeholder=\"output\" readonly></textarea>\n    <br>\n    <div>\n      <input value=\"handle\" type=\"button\" @click=\"handle()\">\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'PatternFormatView',\n  data () {\n    return {\n      default_rule: [\n        {\n          pattern: 'Min',\n          fetch: 0,\n          is_date_start_time: false,\n          is_number_between: false,\n          is_foreach: false,\n          is_ignore: true,\n          template: ''\n        },\n        {\n          pattern: 'Max',\n          fetch: 2,\n          is_date_start_time: false,\n          is_number_between: true,\n          is_foreach: false,\n          is_ignore: false,\n          template: '<if test=\"p.%sMax != null\">\\n    AND  &lt;= #{p.%sMax}\\n</if>\\n<if test=\"p.%sMin != null\">\\n    AND  >= #{p.%sMin}\\n</if>'\n        },\n        {\n          pattern: 'EndTime',\n          fetch: 0,\n          is_date_start_time: false,\n          is_number_between: false,\n          is_foreach: false,\n          is_ignore: true,\n          template: ''\n        },\n        {\n          pattern: 'StartTime',\n          fetch: 2,\n          is_date_start_time: true,\n          is_number_between: false,\n          is_foreach: false,\n          is_ignore: false,\n          template: '<if test=\"p.%sStartTime != null and p.%sStartTime.length &gt; 0 and p.%sEndTime != null and p.%sEndTime.length &gt; 0\">\\n    AND  between CONCAT(#{p.%sStartTime}, \\' 00:00:00\\') and CONCAT(#{p.%sEndTime}, \\' 23:59:59\\')\\n</if>'\n        },\n        {\n          pattern: 'List',\n          fetch: 2,\n          is_date_start_time: false,\n          is_number_between: false,\n          is_foreach: true,\n          is_ignore: false,\n          template: '<if test=\"p.%s != null and p.%s.size &gt; 0\">\\n    AND  in\\n    <foreach collection=\"p.%s\" index=\"index\" item=\"%i\" open=\"(\" separator=\",\" close=\")\">\\n        #{%i}\\n    </foreach>\\n</if>'\n        }, {\n          pattern: 'String',\n          fetch: 2,\n          is_date_start_time: false,\n          is_number_between: false,\n          is_foreach: false,\n          is_ignore: false,\n          template: '<if test=\"p.%s != null and p.%s.length &gt; 0\">\\n    AND  like \\'%' + '$' + '{p.%s}%\\'\\n</if>'\n        }, {\n          pattern: 'private',\n          fetch: 2,\n          is_date_start_time: false,\n          is_number_between: false,\n          is_foreach: false,\n          is_ignore: false,\n          template: '<if test=\"p.%s != null\">\\n    AND  = #{p.%s}\\n</if>'\n        }],\n      rules: [],\n      source: '',\n      output: ''\n    }\n  },\n  created () {\n    this.rules.push(...this.default_rule)\n  },\n  methods: {\n    handle () {\n      this.output = ''\n      const sourceArr = this.source.split('\\n').map(e => e.trim()).filter(e => e)\n      this.pattern(sourceArr)\n      navigator.clipboard.writeText(this.output).then(() => console.log('copied'))\n    },\n    trim_right (str, size) {\n      return str.substring(0, str.length - size)\n    },\n    pattern (arr) {\n      const useMap = new Map()\n      for (let i = 0; i < arr.length; i++) {\n        const e = arr[i]\n        for (let j = 0; j < this.rules.length; j++) {\n          const r = this.rules[j]\n          if (e.includes(r.pattern)) {\n            const k = this.trim_right(e.split(' ')[r.fetch], 1)\n            if (useMap.get(k) === 1) {\n              break\n            } else {\n              useMap.set(k, 1)\n            }\n            if (r.is_ignore) {\n              break\n            }\n            let a\n            if (r.is_date_start_time) {\n              a = this.trim_right(e.split(' ')[r.fetch], 10)\n            } else if (r.is_number_between) {\n              a = this.trim_right(e.split(' ')[r.fetch], 4)\n            } else {\n              a = this.trim_right(e.split(' ')[r.fetch], 1)\n            }\n            if (r.is_foreach) {\n              this.output = this.output + r.template.replaceAll('%s', a).replaceAll('%i', this.trim_right(a, 1)) + '\\n'\n            } else {\n              this.output = this.output + r.template.replaceAll('%s', a) + '\\n'\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n","import { render } from \"./PatternFormat.vue?vue&type=template&id=47a93eb6\"\nimport script from \"./PatternFormat.vue?vue&type=script&lang=js\"\nexport * from \"./PatternFormat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/fjh/template/template-utils/web-tools/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}