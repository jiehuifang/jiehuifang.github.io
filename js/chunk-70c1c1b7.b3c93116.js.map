{"version":3,"sources":["webpack:///./src/views/Timer.vue","webpack:///./src/views/Timer.vue?36e8","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["border","to","hour","minute","second","start","stop","text_time","name","data","core_hour","core_minute","core_second","interval","model","created","t","this","storage","window","localStorage","history","getItem","temp","JSON","parse","undefined","Notification","permission","requestPermission","computed","core_time","core","hourNum","parseInt","minuteNum","methods","setItem","stringify","setInterval","showNotification","alert","clearInterval","msg","showWindowNotification","console","log","notification","dir","icon","body","renotify","tag","requireInteraction","onclick","focus","__exports__","render","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","i","l","arguments","length","args","result"],"mappings":"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","file":"js/chunk-70c1c1b7.b3c93116.js","sourcesContent":["<template>\r\n  <div>\r\n    <p>Timer</p>\r\n    <p>\r\n      <router-link to=\"/\">back to the contents</router-link>\r\n    </p>\r\n    <br>\r\n    <table border=\"1\">\r\n      <tr>\r\n        <th>hour</th>\r\n        <th>minute</th>\r\n        <th>second</th>\r\n      </tr>\r\n      <tr>\r\n        <td><input v-model=\"hour\"></td>\r\n        <td><input v-model=\"minute\"></td>\r\n        <td><input v-model=\"second\"></td>\r\n      </tr>\r\n    </table>\r\n    <button @click=\"start('plus')\">plus</button>\r\n    <button @click=\"start('minus')\">minus</button>\r\n    <button @click=\"start(null)\">continue</button>\r\n    <button @click=\"stop()\">stop</button>\r\n    <hr>\r\n    {{text_time}}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'TimerView',\r\n  data () {\r\n    return {\r\n      hour: 0,\r\n      minute: 0,\r\n      second: 0,\r\n      core_hour: 0,\r\n      core_minute: 0,\r\n      core_second: 0,\r\n      interval: null,\r\n      model: null\r\n    }\r\n  },\r\n  created () {\r\n    const t = this\r\n    const storage = window.localStorage\r\n    if (!storage) return false\r\n    const history = storage.getItem('jiehuifang_timer')\r\n    if (history !== null) {\r\n      const temp = JSON.parse(history)\r\n      t.hour = temp.hour\r\n      t.minute = temp.minute\r\n      t.second = temp.second\r\n    }\r\n    if (undefined !== window.Notification && Notification.permission !== 'granted') {\r\n      Notification.requestPermission()\r\n    }\r\n  },\r\n  computed: {\r\n    core_time () {\r\n      let core = 0\r\n      core += this.core_hour * 3600\r\n      core += this.core_minute * 60\r\n      core += this.core_second * 1\r\n      return core\r\n    },\r\n    text_time () {\r\n      let core = this.core_time\r\n      const hourNum = parseInt(core / 3600)\r\n      core = core - hourNum * 3600\r\n      const minuteNum = parseInt(core / 60)\r\n      core = core - minuteNum * 60\r\n      return hourNum + 'hour ' + minuteNum + 'minute ' + core + 'second'\r\n    }\r\n  },\r\n  methods: {\r\n    start (model) {\r\n      const t = this\r\n      if (model === null && t.model === null) {\r\n        alert('frist start')\r\n        return\r\n      }\r\n      if (model !== null) {\r\n        const storage = window.localStorage\r\n        const temp = {\r\n          hour: t.hour,\r\n          minute: t.minute,\r\n          second: t.second\r\n        }\r\n        if (storage) storage.setItem('jiehuifang_timer', JSON.stringify(temp))\r\n        t.core_second = parseInt(t.second)\r\n        t.core_minute = parseInt(t.minute)\r\n        t.core_hour = parseInt(t.hour)\r\n        t.model = model\r\n      }\r\n      if (t.interval !== null) {\r\n        alert('already started')\r\n        return\r\n      }\r\n      if (this.model === 'plus') {\r\n        t.interval = setInterval(() => {\r\n          t.core_second += 1\r\n        }, 1000)\r\n      } else {\r\n        t.interval = setInterval(() => {\r\n          t.core_second -= 1\r\n          if (t.core_time <= 0) {\r\n            t.showNotification('Time Out!')\r\n            t.stop()\r\n          }\r\n        }, 1000)\r\n      }\r\n    },\r\n    stop () {\r\n      const t = this\r\n      clearInterval(t.interval)\r\n      t.interval = null\r\n    },\r\n    showNotification (msg) {\r\n      const t = this\r\n      if (Notification.permission === 'granted') {\r\n        t.showWindowNotification(msg)\r\n      } else {\r\n        console.log('Notification Permission:' + Notification.permission)\r\n      }\r\n    },\r\n    showWindowNotification (msg) {\r\n      const notification = new Notification('Timer', {\r\n        dir: 'auto',\r\n        icon: '/dog.ico',\r\n        body: msg,\r\n        renotify: true,\r\n        tag: 'Timer',\r\n        requireInteraction: true\r\n      })\r\n      notification.onclick = () => {\r\n        window.focus()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import { render } from \"./Timer.vue?vue&type=template&id=76b148f0\"\nimport script from \"./Timer.vue?vue&type=script&lang=js\"\nexport * from \"./Timer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\tool-fjh\\\\web-tools\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}